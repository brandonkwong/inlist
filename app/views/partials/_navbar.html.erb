<% if @has_navbar %>
<nav class="navbar navbar-default" role="navigation">
    <div class="container">

        <!-- Mobile Navbar Button -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <strong><%= link_to 'InList', root_path, class: 'navbar-brand' %></strong>
        </div>

        <!-- Navbar Left -->
        <ul class="nav navbar-nav navbar-left">
            <!-- Enter Item URL (MetaInspector) -->
            <li>
                <form class="navbar-form navbar-left" action="items/new">
                    <div class="form-group">
                        <input type="url" name="url" placeholder="Enter Item URL" required class="form-control">
                        <button type="submit" class="btn btn-default"><%= fa_icon 'fa plus' %></button>
                    </div>
                </form>
            </li>
            <!-- Search InList -->
            <li>
                <form class="navbar-form navbar-left" role="search">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search InList" data-ng-model="tagQuery.name">
                    </div>
                </form>
            </li>
        </ul>

        <!-- Collapse Toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

            <!-- Navbar Right -->
            <ul class="nav navbar-nav navbar-right">

                <!-- Logged In -->
                <% if current_user %>
                <!-- Categories -->
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><%= fa_icon 'fa list-ul' %></a>
                    <ul class="dropdown-menu" role="menu">

                        <% @categories.each do |c| %>
                            <li><%= link_to c.name, category_path(c.id) %></li>
                            <li class="divider"></li>
                        <% end %>

                        <li><%= link_to 'Create Collection', new_category_path %></li>

                    </ul>
                </li>
                <!-- Settings -->
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-gear"></i></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><%= link_to 'My Collection', root_path %></li>
                        <li class="divider"></li>
                        <li><%= link_to 'Account Settings', edit_user_path(current_user) %></li>
                        <li class="divider"></li>
                        <li><%= link_to 'Log Out', session_path, method: :delete %></li>
                    </ul>
                </li>

                <!-- Logged Out -->
                <% else %>
                <!-- Note: URL Path ends in '?'' -->
                <li><%= button_to 'Sign Up', welcome_path, method: :get, class: 'btn btn-default navbar-btn' %></li>
                <li><button type="submit" class="btn btn-default navbar-btn" data-toggle="modal" data-target="#login">Log In</button></li>
                <% end %>

            </ul> <!-- end navbar-right -->

        </div> <!-- end collapse -->

    </div> <!-- end container-fluid -->
</nav>
<% end %>